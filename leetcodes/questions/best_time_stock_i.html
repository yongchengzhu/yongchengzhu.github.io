<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Best Time to Buy and Sell Stock</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,600,700,800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../css/prism.css">
  </head>
  <body>
    <div id="navbar-leetcode"></div>

    <div class="container post-container">
      <div class="row">
        <div class="col-12">
          <h1 class="section-text section-header">
            121. Best Time to Buy and Sell Stock
          </h1>
        </div>
      </div>
      <!-- Problem -->
      <div class="row">
        <div class="col-12">
          <div class="problem">
            <p class="section-text problem-text">
              Say you have an array for which the ith element is the price of a given stock on day i.
            </p>
            <p class="section-text problem-text">
              If you were only permitted to complete at most one transaction (i.e., buy one and sell one share of the stock), design an algorithm to find the maximum profit.
            </p>
            <p class="section-text problem-text">
              Note that you cannot sell a stock before you buy one.
            </p>
            <p class="section-text problem-text">
              <span class="problem-header">Example:</span>
              <div class="example">
                <div class="example-item">
                  <div class="pre-text">
Input: [7,1,5,3,6,4]
Output: 5
Explanation: Buy on day 2 (price = 1) and sell on day 5 (price = 6), profit = 6-1 = 5.
             Not 7-1 = 6, as selling price needs to be larger than buying price.
                  </div>
                </div>
              </div>
            </p>
          </div>
        </div>
      </div>

      <!-- Solution Section -->
      <div class="row">
        <div class="col-12">
          <p class="section-text">
            By intuition, we are searching subarrays from the input array, where
            the stocks are increasing in direction. And from these subarrays,
            we have \(profit = price_{highest} - price_{lowest}\). Hence, we just
            need to keep track of the maximum profit as we check all these
            ascendingly sorted subarrays.
          </p>

          <p class="section-text">
            I would approach this problem with a sliding window. If the right
            pointer is greater than the left pointer, then calculate the current profit
            and update the maximum profit so far. But, if the left pointer is
            greater than the right pointer, then we should not do anything to our profit but
            to look for the next subarray that has increasing values; make left
            pointer jump to right pointer.
          </p>

          <pre>
            <code class="language-javascript">
              var maxProfit = function(prices) {
                  let result = 0;

                  for (let l = 0, r = 1; r < prices.length; ++r) {
                      if (prices[l] < prices[r]) {
                          result = Math.max(result, prices[r] - prices[l]);
                      } else {
                          l = r;
                      }
                  }

                  return result;
              };
            </code>
          </pre>

          <p class="section-text">
            Runtime: \(O(n)\), Space: \(O(1)\).
          </p>
        </div>
      </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="../../js/prism.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
    <script>
      $('#navbar-leetcode').load('../../components/navbar-leetcode.html');
    </script>
  </body>
</html>
